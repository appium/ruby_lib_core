sudo: false
cache: bundler
language: ruby
rvm:
  - 2.2.5
  - 2.3.3
  - 2.4.3
  - 2.5.0

before_install:
  - gem update --system
  - gem update bundler

script:
  - bundle exec rake rubocop
  - bundle exec parallel_test test/unit/

env:
  global:
    - CI_NODE_TOTAL=2
  matrix:
    - CI_NODE_INDEX=0
    - CI_NODE_INDEX=1

notifications:
  email:
    on_success: never
    on_failure: never
